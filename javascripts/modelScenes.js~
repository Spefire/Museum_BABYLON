
function createScene(engine){

  var scene = new BABYLON.Scene(engine,true) ; 
  var camera = createCamera(scene) ; 
  var light = createLight(scene) ;
  var skybox = createSkybox(scene);
  var museum = createMuseum(scene);

  return scene;
}

function createSkybox(scene) {
  var skybox = BABYLON.Mesh.CreateBox("skyBox", 1000.0, scene);
  var skyboxMaterial=new BABYLON.StandardMaterial("skybox",scene) ;
  skyboxMaterial.backFaceCulling= false ;
  skybox.material=skyboxMaterial ;
  skyboxMaterial.diffuseColor = new BABYLON.Color3(0,0,0);
  skyboxMaterial.specularColor = new BABYLON.Color3(0,0,0);
  skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture("assets/skyboxes/TropicalSunnyDay/TropicalSunnyDay", scene);
  skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;
}

function createCamera(scene){
  var camera = new BABYLON.FreeCamera("cam",new BABYLON.Vector3(0,5,-10), scene) ;
  camera.setTarget(BABYLON.Vector3.Zero());
  camera.keysLeft = [81, 37]; //Q et <-
  camera.keysUp = [90, 38]; //Z et Flèche du haut
  camera.keysRight = [68, 39]; //D et ->
  camera.keysDown = [83, 40]; //S et flèche du bas
  camera.speed = 0.5;
  camera.angularSensibility = 3500;
  camera.applyGravity = true;
  var hitbox = BABYLON.MeshBuilder.CreateCylinder("cone", {diameter: 0.2, height:1, tessellation: 16}, scene);
  camera.checkCollisions = true;
  hitbox.position = new BABYLON.Vector3(camera.position.x, camera.position.y, camera.position.z);
  hitbox.parent = camera;
  return camera;
}

function createLight(scene){
  var light0 = new BABYLON.HemisphericLight("Hemi0", new BABYLON.Vector3(0, 1, 0), scene);
  light0.diffuse = new BABYLON.Color3(1, 1, 1);
  light0.specular = new BABYLON.Color3(1, 1, 1);
  light0.groundColor = new BABYLON.Color3(0, 0, 0);
  return light0 ;
}